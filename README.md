# Настройка сервисов для сервера

## Разница между модификацией и оригиналом конфигураций

Чтобы увидеть разницу и внесенные изменения в файлы конфигурации, можно запустить скрипт diff.sh:

- bash diff.sh

!['diff'](misc/diff.png)

# Настройка площадок сайтов

### Площка для сайта site.ru

1. Настроена связка Nginx+Apache2+PHP+MySQL для работы сайта site.ru.

2. Установка CMS Битрикс.

!['bitrix'](misc/1install_bitrix.png)

!['bitrix'](misc/1all_ok.png)

3. Настроен веб-сервер таким образом, чтобы статические данные, такие как изображения, видео и gif, обрабатывались Nginx, а все остальные данные передавались на обработку Apache2.

!['set_up'](misc/1apache_nginx.png)

4. Настроены минимально необходимые права на площадку для сайта.

!['final'](misc/1result.png)


### Площадка для сайта site-2.ru

1. Настроена связка Nginx+php-fpm для работы сайта site-2.ru.

2. Предусмотрена возможность переключения между версиями PHP через разные пулы fpm.

!['pool.7_4'](misc/7_4pool.png)

!['pool.8_1'](misc/8_1pool.png)

3. Сайт работает от пользователя site-2.ru.

4. Установлен файл менеджер на PHP на площадке для загрузки и удаления файлов.

!['main'](misc/file_manager.png)

!['upload'](misc/upload.png)

!['upload'](misc/upload2.png)

!['delete'](misc/delete.png)

## Настройка phpMyAdmin как алиас

1. phpMyAdmin настроен работать для любого сайта сервера путем добавления /phpmyadmin к URL сайта (PMA как алиас) и статические данные отдаются веб-сервером Nginx.

!['alias'](misc/alias.png)

2. Обеспечена работа phpMyAdmin без ошибок и предупреждений и возможность управления базами данных MySQL на сервере для обоих сайтов.

*На site-2.ru*

!['PMA'](misc/phpmyadmin.png)

*По порту 81 (Apache2) на site.ru*

!['PMA'](misc/1phpmyadmin.png)

3. Обеспечена возможность работы "дополнительных возможностей" PMA.

!['plugins'](misc/plugins.png)

## Задание выполнено в операционной системе Ubuntu.